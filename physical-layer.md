---
description: 物理层内容
---

# 物理层

##  数据链路层的基本概念

| 名词 | 解释 |
| :--- | :--- |
| **结点** | 主机, 路由器 |
| **链路** | 网络中两结点间的`物理通道` |
| **数据链路** | 网络中两结点间的`逻辑通道` |
| **帧** | 链路层的协议**`数据单元`**, 封装网络层数据报 |

### 数据链路层的功能概述

1.  为网络层提供服务 \( `无确认无连接服务` `有确认无连接服务`  `有确认有连接服务` \)          
2.   链路管理 \( 链接的建立, 维持, 释放 \)
3.  组帧
4.  流量控制
5.  差错控制

##  封装成帧和透明传输 \( 组帧 \)

![&#x6570;&#x636E;&#x94FE;&#x8DEF;&#x5C42;&#x5C06;&#x7F51;&#x7EDC;&#x5C42;&#x7684;ip&#x6570;&#x636E;&#x62A5;&#x52A0;&#x5934;&#x52A0;&#x5C3E;](https://youpai.roccoshi.top/img/20200707102645.png)

 组帧的几个方案 : 

###  一**. 字符计数法**

![](https://youpai.roccoshi.top/img/20200707110620.png)

###  二. **字符填充法**

![&#x7528;&#x4E00;&#x4E2A;SOH&#x548C;EOT&#x5206;&#x522B;&#x6807;&#x5FD7;&#x5E27;&#x5934;&#x90E8;&#x548C;&#x5C3E;&#x90E8;](https://youpai.roccoshi.top/img/20200707110930.png)

 上述方法法的劣势 : 

![&#x5982;&#x679C;&#x5728;&#x6570;&#x636E;&#x90E8;&#x5206;&#x51FA;&#x73B0;&#x4E86;EOT, &#x5219;&#x4F1A;&#x5BFC;&#x81F4;&#x8FB9;&#x754C;&#x5224;&#x65AD;&#x9519;&#x8BEF;](https://youpai.roccoshi.top/img/20200707111154.png)

 解决方法 : 

![&#x5728;&#x6570;&#x636E;&#x4E2D;&#x51FA;&#x73B0;&#x7684;EOT, SOH&#x524D;&#x52A0;&#x5165;&#x8F6C;&#x4E49;&#x5B57;&#x7B26;ESC, &#x8868;&#x793A;&#x8FD9;&#x4E2A;EOT, SOH&#x662F;&#x6570;&#x636E;, &#x4E0D;&#x7528;&#x7BA1;](https://youpai.roccoshi.top/img/20200707111328.png)

###  三. **零比特填充法**

![&#x96F6;&#x6BD4;&#x7279;&#x586B;&#x5145;&#x6CD5;](https://youpai.roccoshi.top/img/20200707111751.png)

###  四. **违规编码法**

![&#x7531;&#x4E8E;&#x66FC;&#x5F7B;&#x65AF;&#x7279;&#x7F16;&#x7801;&#x7528;&#x9AD8;-&#x4F4E;, &#x4F4E;-&#x9AD8;&#x8868;&#x793A;&#x6570;&#x636E;0,1 &#x6545;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x7F16;&#x7801;&#x4E2D;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x7684;&#x7535;&#x5E73;&#x6765;&#x8868;&#x793A;&#x5E27;&#x5F00;&#x59CB;&#x548C;&#x7ED3;&#x675F;](https://youpai.roccoshi.top/img/20200707111916.png)

 目前普遍使用的方法是**比特填充法**和**违规编码法**

##  **差错控制 \( 检错编码 \)**

###  **差错的种类**

![&#x5DEE;&#x9519;&#x7684;&#x79CD;&#x7C7B;](https://youpai.roccoshi.top/img/20200707112804.png)

###  检错编码

![&#x5197;&#x4F59;&#x7F16;&#x7801;&#x7684;&#x5B9A;&#x4E49;](https://youpai.roccoshi.top/img/20200707160742.png)

#### 循环冗余校验码CRC 

 核心公式 : 

$$
发送端数据 \div 生成多项式 = X \cdots \cdots CRC校验码
$$

 生成多项式 : 

$$
生成多项式 G(x) = \text{X}^4+\text{X}^2+1 等价于10101
$$

 CRC的工作过程 : 

![CRC&#x7684;&#x5DE5;&#x4F5C;&#x8FC7;&#x7A0B;](https://youpai.roccoshi.top/img/20200707163146.png)

 例题 : 

![](https://youpai.roccoshi.top/img/20200707163226.png)

1.  生成多项式的阶数r = 4 , 在发送的数据后添4个0, 使之成为11010110110000
2.  计算模2除法 \( 异或 \)
3.  取余数为CRC校验码

![&#x6C42;CRC&#x6821;&#x9A8C;&#x7801;&#x7684;&#x8FC7;&#x7A0B;](https://youpai.roccoshi.top/img/20200707163437.png)

####  奇偶校验码

 奇校验码 : 在编码的最后一位添1或0使得整个编码中1的出现个数为奇数

 偶校验码 : 在编码的最后一位添1或0使得整个编码中1的出现个数为偶数

##  差错控制 \( 纠错编码 \)

 海明码的功能 : **发现双比特错, 纠正单比特错**

![&#x6D77;&#x660E;&#x7801;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;](https://youpai.roccoshi.top/img/20200707164223.png)

####  海明不等式----确定校验码的位数r

$$
2^{\text{r}}\geqslant \text{k}+\text{r}+1  \left( \text{k为数据位数}, \text{r为冗余位数} \right)
$$

![&#x4E3E;&#x4F8B;](https://youpai.roccoshi.top/img/20200707165326.png)

####  确定校验码的位置

 将第x位校验码填入2的x-1次方的位置, 举例如下 : 

![&#x6821;&#x9A8C;&#x7801;4&#x4F4D;P4P3P2P1, &#x5206;&#x522B;&#x586B;&#x5728;1, 2, 4, 8&#x4F4D;](https://youpai.roccoshi.top/img/20200707165730.png)

####  求出校验码的值

 注意 : 二进制从0001也就是1开始

![&#x5148;&#x5199;&#x51FA;&#x4E8C;&#x8FDB;&#x5236;, &#x7136;&#x540E;&#x91C7;&#x7528;&#x5F02;&#x6216;&#x7684;&#x65B9;&#x5F0F;&#x4F7F;&#x6240;&#x6709;&#x5BF9;&#x5E94;&#x6821;&#x9A8C;&#x4F4D;&#x5F02;&#x6216;=0 \( &#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x4E0D;&#x662F;&#x5F02;&#x6216;&#x5904;&#x7406;, &#x5177;&#x4F53;&#x770B;&#x9898;&#x76EE;&#x8981;&#x6C42; \)](https://youpai.roccoshi.top/img/20200707170334.png)

####  检错与纠错

 方法 : 将各个位按上述规则异或处理后组成一个二进制数, 如果有差错, 则组成的二进制数表示差错所在的数据位.

![](https://youpai.roccoshi.top/img/20200707171714.png)







